<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../../style/style.css?rnd=132">
  
    <!--***** dos lineas de scripts para guardar imagen-->
    <script type="text/javascript" src="../../js/html2canvas.js"></script>
    <script type="text/javascript" src="../../js/html2canvas.min.js"></script>
    <!--***** Fin de dos lineas de scripts para guardar imagen-->

</head>

<body>

    <div id="contenedor">
          <div style="position:absolute;top:0.000000px;left:0.000000px"><nobr><img height="1020.000000" width="794.000000" src ="bgimg/bg00001.jpg"/></nobr></div><p><span style="font-family:Helvetica;font-size:16.000000px;font-style:normal;font-weight:normal;color:#000000;"><span style="position:absolute;top:967.344849px;left:715.853516px"><nobr>21 </nobr></span></span></p><p><span style="font-family:Helvetica;font-size:40.000000px;font-style:normal;font-weight:normal;color:#FFFFFF;"><span style="position:absolute;top:10.392497px;left:675.974426px"><nobr>1.6 </nobr></span></span></p><p><span style="font-family:Avenir;font-size:14.000000px;font-weight:bold;color:#004F9F;"><span style="position:absolute;top:84.157799px;left:56.666615px"><nobr>III. LISTENING </nobr></span></span></p><p><span style="font-family:Avenir;font-size:11.000000px;font-weight:bold;color:#5B7BBC;"><span style="position:absolute;top:115.989502px;left:56.666687px"><nobr>a . <span style="color:#000000;">Listen to the description of the </span></nobr></span></span></p><p><span style="font-family:Avenir;font-size:11.000000px;font-weight:bold;color:#000000;"><span style="position:absolute;top:134.871506px;left:75.548599px"><nobr>classroom. Circle the one that is described. </nobr></span></span></p><p><span style="font-family:Avenir;font-size:14.000000px;font-weight:bold;color:#004F9F;"><span style="position:absolute;top:414.235229px;left:56.666615px"><nobr>IV. READING AND WRITING </nobr></span></span></p><p><span style="font-family:Avenir;font-size:11.000000px;font-weight:bold;color:#5B7BBC;"><span style="position:absolute;top:442.506195px;left:56.666687px"><nobr>a . <span style="color:#000000;">Read and circle the correct answer. </span></nobr></span></span></p><p><span style="font-family:Avenir;font-size:11.000000px;font-style:normal;font-weight:normal;color:#000000;"><span style="position:absolute;top:461.270721px;left:56.666687px"><nobr>My classroom is comfortable. There is one board </nobr></span><span style="position:absolute;top:479.932770px;left:56.666687px"><nobr>and a projector. There are twelve colored chairs. </nobr></span><span style="position:absolute;top:498.594879px;left:56.666687px"><nobr>There are sixteen dictionaries. I like my school. </nobr></span></span></p><p><span style="font-family:Avenir;font-size:11.000000px;font-style:normal;font-weight:normal;color:#000000;"><span style="position:absolute;top:517.256897px;left:56.666687px"><nobr>There is only one cafeteria. But the best part is </nobr></span><span style="position:absolute;top:535.918823px;left:56.666687px"><nobr>that there is one big cinema room! and a lot of </nobr></span><span style="position:absolute;top:554.580933px;left:56.666687px"><nobr>friends to go with! That ’s why I love my school. </nobr></span></span></p><p><span style="font-family:Avenir;font-size:11.000000px;font-weight:bold;color:#000000;"><span style="position:absolute;top:591.890381px;left:56.666687px"><nobr>1. There is <input type="text" id="ea1_p21res1" size="3"> board. </nobr></span></span></p><p><span style="font-family:Avenir;font-size:11.000000px;font-weight:bold;color:#8E9ED1;"><span style="position:absolute;top:610.449768px;left:75.548599px"><nobr>a. <span style="font-style:normal;font-weight:normal;color:#000000;">ten </span></nobr></span></span></p><p><span style="font-family:Avenir;font-size:11.000000px;font-weight:bold;color:#8E9ED1;"><span style="position:absolute;top:610.449768px;left:157.951233px"><nobr>b. <span style="font-style:normal;font-weight:normal;color:#000000;">one </span><span style="font-weight:bold;color:#8E9ED1;">c. </span><span style="font-style:normal;font-weight:normal;color:#000000;">five </span></nobr></span></span></p><p><span style="font-family:Avenir;font-size:11.000000px;font-weight:bold;color:#000000;"><span style="position:absolute;top:629.214417px;left:56.666687px"><nobr>2. There are <input type="text" id="ea1_p21res2" size="3"> dictionaries. </nobr></span></span></p><p><span style="font-family:Avenir;font-size:11.000000px;font-weight:bold;color:#8E9ED1;"><span style="position:absolute;top:647.773865px;left:75.548599px"><nobr>a. <span style="font-style:normal;font-weight:normal;color:#000000;">six </span><span style="font-weight:bold;color:#8E9ED1;">b. </span><span style="font-style:normal;font-weight:normal;color:#000000;">three </span><span style="font-weight:bold;color:#8E9ED1;">c. </span><span style="font-style:normal;font-weight:normal;color:#000000;">sixteen </span></nobr></span><span style="position:absolute;top:666.538513px;left:56.666687px"><nobr><span style="color:#000000;">3. There are <input type="text" id="ea1_p21res3" size="3"> colored chairs. </span></nobr></span></span></p><p><span style="font-family:Avenir;font-size:11.000000px;font-weight:bold;color:#8E9ED1;"><span style="position:absolute;top:685.097961px;left:75.548599px"><nobr>a. <span style="font-style:normal;font-weight:normal;color:#000000;">twenty </span><span style="font-weight:bold;color:#8E9ED1;">b. </span><span style="font-style:normal;font-weight:normal;color:#000000;">two </span><span style="font-weight:bold;color:#8E9ED1;">c. </span><span style="font-style:normal;font-weight:normal;color:#000000;">twelve </span></nobr></span><span style="position:absolute;top:703.862549px;left:56.666687px"><nobr><span style="color:#000000;">4. There is <input type="text" id="ea1_p21res4" size="3"> cafeteria. </span></nobr></span></span></p><p><span style="font-family:Avenir;font-size:11.000000px;font-weight:bold;color:#8E9ED1;"><span style="position:absolute;top:722.422058px;left:75.548599px"><nobr>a. <span style="font-style:normal;font-weight:normal;color:#000000;">five </span><span style="font-weight:bold;color:#8E9ED1;">b. </span><span style="font-style:normal;font-weight:normal;color:#000000;">fifteen </span><span style="font-weight:bold;color:#8E9ED1;">c. </span><span style="font-style:normal;font-weight:normal;color:#000000;">only one </span></nobr></span><span style="position:absolute;top:741.186646px;left:56.666687px"><nobr><span style="color:#000000;">5. There is <input type="text" id="ea1_p21res5" size="3"> big cinema room! </span></nobr></span></span></p><p><span style="font-family:Avenir;font-size:11.000000px;font-weight:bold;color:#8E9ED1;"><span style="position:absolute;top:759.746094px;left:75.548599px"><nobr>a. <span style="font-style:normal;font-weight:normal;color:#000000;">two </span></nobr></span></span></p><p><span style="font-family:Avenir;font-size:11.000000px;font-weight:bold;color:#8E9ED1;"><span style="position:absolute;top:759.746094px;left:157.951233px"><nobr>b. <span style="font-style:normal;font-weight:normal;color:#000000;">one </span><span style="font-weight:bold;color:#8E9ED1;">c. </span><span style="font-style:normal;font-weight:normal;color:#000000;">five </span></nobr></span></span></p><p><span style="font-family:Avenir;font-size:11.000000px;font-weight:bold;color:#5B7BBC;"><span style="position:absolute;top:88.002441px;left:415.555908px"><nobr>b . <span style="color:#000000;">Look at the pictures and write six sentences, </span></nobr></span><span style="position:absolute;top:106.884193px;left:434.437775px"><nobr><span style="color:#000000;">three using there is and three using there </span></nobr></span><span style="position:absolute;top:125.546227px;left:434.437775px"><nobr><span style="font-style:italic;font-weight:bold;color:#000000;">are . Use numbers as well. </span></nobr></span></span></p><p><span style="font-family:Helvetica;font-size:11.000000px;font-style:normal;font-weight:normal;color:#009FE3;"><span style="position:absolute;top:148.269119px;left:434.437775px"><nobr>There are three windows. </nobr></span></span></p><p><span style="font-family:Avenir;font-size:10.000000px;font-weight:bold;color:#FFFFFF;"><span style="position:absolute;top:494.731018px;left:421.052673px"><nobr>Did I … </nobr></span></span></p><p><span style="font-family:Avenir;font-size:11.000000px;font-style:normal;font-weight:normal;color:#000000;"><span style="position:absolute;top:523.610474px;left:421.053345px"><nobr>… write complete sentences? </nobr></span><span style="position:absolute;top:554.513489px;left:421.053345px"><nobr>… use there is and there are ? </nobr></span><span style="position:absolute;top:582.499268px;left:421.053345px"><nobr>… write numbers correctly? </nobr></span></span></p><p><span style="font-family:Avenir;font-size:11.000000px;font-style:normal;font-weight:normal;color:#000000;"><span style="position:absolute;top:610.484924px;left:421.053345px"><nobr>… use punctuation marks correctly? </nobr></span></span></p><p><span style="font-family:Avenir;font-size:14.000000px;font-weight:bold;color:#004F9F;"><span style="position:absolute;top:647.154663px;left:415.555023px"><nobr>V. SPEAKING </nobr></span></span></p><p><span style="font-family:Avenir;font-size:11.000000px;font-weight:bold;color:#5B7BBC;"><span style="position:absolute;top:675.731689px;left:415.555908px"><nobr>a . <span style="color:#000000;">Draw a classroom or office. Dictate the </span></nobr></span><span style="position:absolute;top:694.613586px;left:434.437775px"><nobr><span style="color:#000000;">picture to your partner for him / her to draw. </span></nobr></span><span style="position:absolute;top:713.275696px;left:434.437775px"><nobr><span style="color:#000000;">Use there is / there are . <br>

            <div id="ea1_p21res6-zone" style="position:absolute;top:745px;left:434.437775px">
                <img id="ea1_p21res6" src="" height="189px" width="288px"> 
            </div>
            <script type="text/javascript">
                var ea1_p21res6 = document.getElementById('ea1_p21res6');
                if (localStorage.getItem("Img_ea1_p21res6") === null) {
                    var dataImage = "img/descarga.png"
                }
                else {
                    var dataImage = localStorage.getItem('Img_ea1_p21res6');
                }
                ea1_p21res6.src = dataImage;
                var previewZone = document.getElementById('ea1_p21res6-zone');
                previewZone.appendChild(ea1_p21res6);
            </script>

            <div id="divFileUpload" style="position:absolute;top:940px;left:434.437775px">
                <input class="btn btn-primary" id="file-upload" type="file" accept="image/*" />
            </div>

        </span></nobr></span></span></p><p><span style="font-family:Avenir;font-size:7.000000px;font-weight:bold;color:#E30413;"><span style="position:absolute;top:105.977455px;left:349.877563px"><nobr>Track </nobr></span></span></p><p><span style="font-family:Helvetica;font-size:10.000000px;font-style:normal;font-weight:normal;color:#000000;"><span style="position:absolute;top:382.930817px;left:421.771057px"><nobr><textarea id="ea1_p21res7" style="margin: 0px; width: 313px; height: 15px; font-size: 10px;"></textarea><br><textarea id="ea1_p21res18" style="margin: 0px; width: 313px; height: 15px; font-size: 10px;"></textarea><br><textarea id="ea1_p21res19" style="margin: 0px; width: 313px; height: 15px; font-size: 10px;"></textarea><br><textarea id="ea1_p21res20" style="margin: 0px; width: 313px; height: 15px; font-size: 10px;"></textarea> </nobr></span></span></p><p><span style="font-family:Helvetica;font-size:10.000000px;font-style:normal;font-weight:normal;color:#000000;"><span style="position:absolute;top:523px;left:674px"><nobr><input type="checkbox" id="ea1_p21res8"> </nobr></span><span style="position:absolute;top:523px;left:710px"><nobr><input type="checkbox" id="ea1_p21res9"> </nobr></span><span style="position:absolute;top:549px;left:674px"><nobr><input type="checkbox" id="ea1_p21res10"> </nobr></span><span style="position:absolute;top:549px;left:710px"><nobr><input type="checkbox" id="ea1_p21res11"> </nobr></span><span style="position:absolute;top:576px;left:674px"><nobr><input type="checkbox" id="ea1_p21res12"> </nobr></span><span style="position:absolute;top:576px;left:710px"><nobr><input type="checkbox" id="ea1_p21res13"> </nobr></span><span style="position:absolute;top:603px;left:674px"><nobr><input type="checkbox" id="ea1_p21res14"> </nobr></span><span style="position:absolute;top:603px;left:710px"><nobr><input type="checkbox" id="ea1_p21res15"> </nobr></span></span></p><p><span style="font-family:Helvetica;font-size:10.000000px;font-style:normal;font-weight:normal;color:#000000;"><span style="position:absolute;top:165.452713px;left:36.150162px"><nobr><input type="checkbox" id="ea1_p21res16"></nobr></span></span></p><p><span style="font-family:Helvetica;font-size:10.000000px;font-style:normal;font-weight:normal;color:#000000;"><span style="position:absolute;top:367.062134px;left:142.908371px"><nobr><input type="checkbox" id="ea1_p21res17"></nobr></span></span></p>  
    <form style="margin-top: 940px;margin-left: 190px; position: absolute; z-index: 2;" id="myForm" action="../../send.php" method="post"><textarea style="display:none;" id="myInput" name = "imagen"></textarea><input type="button" onclick="save_data()" value="Save"  class="btn btn-primary">&nbsp;&nbsp;&nbsp;&nbsp;<input type="button" onclick="send_data(); loader(); return false" value="Send" class="btn btn-primary">    <input type="hidden" id="ea1_regNA" name="ea1_regNA">
    <input type="hidden" id="ea1_regGP" name="ea1_regGP">
    <input type="hidden" id="ea1_regCA" name="ea1_regCA">
    <input type="hidden" id="ea1_regND" name="ea1_regND">
    <input type="hidden" id="ea1_regCD" name="ea1_regCD"></form>
    </div>
    <!-- empieza la carga los datos que se cargan-->
    <div id="loader" style="display:none; margin-top: 930px;margin-left: 190px; position: absolute; z-index: 2;"><img src="../../img/carga.gif"  width="180px" height="65px"></div>
       
</body>

<!--Dos funciones para el manejo del archivo de imagen que se va a subir, y al subirlo mostrarlo en pantalla-->
<script>
    function readFile(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
     
            reader.onload = function (e) {
                var ea1_p21res6 = document.getElementById('ea1_p21res6');
                //e.target.result contents the base64 data from the image uploaded
                ea1_p21res6.src = e.target.result;
                console.log(e.target.result);
     
                var previewZone = document.getElementById('ea1_p21res6-zone');
                previewZone.appendChild(ea1_p21res6);
            }
    
            reader.readAsDataURL(input.files[0]);
        }
    }
     
    var fileUpload = document.getElementById('file-upload');
    fileUpload.onchange = function (e) {
        //document.getElementById('file-preview-zone').innerHTML = "";
        readFile(e.srcElement);
    }
     
</script>


<script type="text/javascript">
    //Carga datos del registro
    document.getElementById('ea1_regNA').value = localStorage.getItem('ea1_regNA');
    document.getElementById('ea1_regGP').value = localStorage.getItem('ea1_regGP');
    document.getElementById('ea1_regCA').value = localStorage.getItem('ea1_regCA');
    document.getElementById('ea1_regND').value = localStorage.getItem('ea1_regND');
    document.getElementById('ea1_regCD').value = localStorage.getItem('ea1_regCD');

    document.getElementById('ea1_p21res1').value = localStorage.getItem('ea1_p21res1');
    document.getElementById('ea1_p21res2').value = localStorage.getItem('ea1_p21res2');
    document.getElementById('ea1_p21res3').value = localStorage.getItem('ea1_p21res3');
    document.getElementById('ea1_p21res4').value = localStorage.getItem('ea1_p21res4');
    document.getElementById('ea1_p21res5').value = localStorage.getItem('ea1_p21res5');
    document.getElementById('ea1_p21res7').value = localStorage.getItem('ea1_p21res7');

    document.getElementById('ea1_p21res8').value = localStorage.getItem('ea1_p21res8');
    document.getElementById('ea1_p21res18').value = localStorage.getItem('ea1_p21res18');
    document.getElementById('ea1_p21res19').value = localStorage.getItem('ea1_p21res19');
    document.getElementById('ea1_p21res20').value = localStorage.getItem('ea1_p21res20');
     // ** INICIO ACTIVACION CHECKBOK ** //
    if(document.getElementById('ea1_p21res8').value == "1")
        document.getElementById("ea1_p21res8").checked = true; 

    document.getElementById('ea1_p21res9').value = localStorage.getItem('ea1_p21res9');
     // ** INICIO ACTIVACION CHECKBOK ** //
    if(document.getElementById('ea1_p21res9').value == "1")
        document.getElementById("ea1_p21res9").checked = true; 

    document.getElementById('ea1_p21res10').value = localStorage.getItem('ea1_p21res10');
     // ** INICIO ACTIVACION CHECKBOK ** //
    if(document.getElementById('ea1_p21res10').value == "1")
        document.getElementById("ea1_p21res10").checked = true; 

    document.getElementById('ea1_p21res11').value = localStorage.getItem('ea1_p21res11');
     // ** INICIO ACTIVACION CHECKBOK ** //
    if(document.getElementById('ea1_p21res11').value == "1")
        document.getElementById("ea1_p21res11").checked = true; 

    document.getElementById('ea1_p21res12').value = localStorage.getItem('ea1_p21res12');
     // ** INICIO ACTIVACION CHECKBOK ** //
    if(document.getElementById('ea1_p21res12').value == "1")
        document.getElementById("ea1_p21res12").checked = true; 

    document.getElementById('ea1_p21res13').value = localStorage.getItem('ea1_p21res13');
     // ** INICIO ACTIVACION CHECKBOK ** //
    if(document.getElementById('ea1_p21res13').value == "1")
        document.getElementById("ea1_p21res13").checked = true; 

    document.getElementById('ea1_p21res14').value = localStorage.getItem('ea1_p21res14');
     // ** INICIO ACTIVACION CHECKBOK ** //
    if(document.getElementById('ea1_p21res14').value == "1")
        document.getElementById("ea1_p21res14").checked = true; 

    document.getElementById('ea1_p21res15').value = localStorage.getItem('ea1_p21res15');
     // ** INICIO ACTIVACION CHECKBOK ** //
    if(document.getElementById('ea1_p21res15').value == "1")
        document.getElementById("ea1_p21res15").checked = true; 

    document.getElementById('ea1_p21res16').value = localStorage.getItem('ea1_p21res16');
     // ** INICIO ACTIVACION CHECKBOK ** //
    if(document.getElementById('ea1_p21res16').value == "1")
        document.getElementById("ea1_p21res16").checked = true; 

    document.getElementById('ea1_p21res17').value = localStorage.getItem('ea1_p21res17');
     // ** INICIO ACTIVACION CHECKBOK ** //
    if(document.getElementById('ea1_p21res17').value == "1")
        document.getElementById("ea1_p21res17").checked = true; 

    function save_data(){
        //local storage
        bannerImage = document.getElementById('ea1_p21res6').src;
        localStorage.setItem("Img_ea1_p21res6", bannerImage);

        var ea1_p21res1 = document.getElementById('ea1_p21res1').value;
        localStorage.setItem('ea1_p21res1', ea1_p21res1);
        var ea1_p21res2 = document.getElementById('ea1_p21res2').value;
        localStorage.setItem('ea1_p21res2', ea1_p21res2);
        var ea1_p21res3 = document.getElementById('ea1_p21res3').value;
        localStorage.setItem('ea1_p21res3', ea1_p21res3);
        var ea1_p21res4 = document.getElementById('ea1_p21res4').value;
        localStorage.setItem('ea1_p21res4', ea1_p21res4);
        var ea1_p21res5 = document.getElementById('ea1_p21res5').value;
        localStorage.setItem('ea1_p21res5', ea1_p21res5);
        var ea1_p21res7 = document.getElementById('ea1_p21res7').value;
        localStorage.setItem('ea1_p21res7', ea1_p21res7);
        var ea1_p21res18 = document.getElementById('ea1_p21res18').value;
        localStorage.setItem('ea1_p21res18', ea1_p21res18);
        var ea1_p21res19 = document.getElementById('ea1_p21res19').value;
        localStorage.setItem('ea1_p21res19', ea1_p21res19);
        var ea1_p21res20 = document.getElementById('ea1_p21res20').value;
        localStorage.setItem('ea1_p21res20', ea1_p21res20);

        //** INICIO PARA GUARDAR CHECKBOX **//
        var isChecked = document.getElementById('ea1_p21res8').checked;
        if(isChecked){
            var ea1_p21res8 = "1";
        }    
        localStorage.setItem('ea1_p21res8', ea1_p21res8);
        //** FIN PARA GUARDAR CHECKBOX **//

        //** INICIO PARA GUARDAR CHECKBOX **//
        var isChecked = document.getElementById('ea1_p21res9').checked;
        if(isChecked){
            var ea1_p21res9 = "1";
        }    
        localStorage.setItem('ea1_p21res9', ea1_p21res9);
        //** FIN PARA GUARDAR CHECKBOX **//

        //** INICIO PARA GUARDAR CHECKBOX **//
        var isChecked = document.getElementById('ea1_p21res10').checked;
        if(isChecked){
            var ea1_p21res10 = "1";
        }    
        localStorage.setItem('ea1_p21res10', ea1_p21res10);
        //** FIN PARA GUARDAR CHECKBOX **//

        //** INICIO PARA GUARDAR CHECKBOX **//
        var isChecked = document.getElementById('ea1_p21res11').checked;
        if(isChecked){
            var ea1_p21res11 = "1";
        }    
        localStorage.setItem('ea1_p21res11', ea1_p21res11);
        //** FIN PARA GUARDAR CHECKBOX **//

        //** INICIO PARA GUARDAR CHECKBOX **//
        var isChecked = document.getElementById('ea1_p21res12').checked;
        if(isChecked){
            var ea1_p21res12 = "1";
        }    
        localStorage.setItem('ea1_p21res12', ea1_p21res12);
        //** FIN PARA GUARDAR CHECKBOX **//

        //** INICIO PARA GUARDAR CHECKBOX **//
        var isChecked = document.getElementById('ea1_p21res13').checked;
        if(isChecked){
            var ea1_p21res13 = "1";
        }    
        localStorage.setItem('ea1_p21res13', ea1_p21res13);
        //** FIN PARA GUARDAR CHECKBOX **//

        //** INICIO PARA GUARDAR CHECKBOX **//
        var isChecked = document.getElementById('ea1_p21res14').checked;
        if(isChecked){
            var ea1_p21res14 = "1";
        }    
        localStorage.setItem('ea1_p21res14', ea1_p21res14);
        //** FIN PARA GUARDAR CHECKBOX **//

        //** INICIO PARA GUARDAR CHECKBOX **//
        var isChecked = document.getElementById('ea1_p21res15').checked;
        if(isChecked){
            var ea1_p21res15 = "1";
        }    
        localStorage.setItem('ea1_p21res15', ea1_p21res15);
        //** FIN PARA GUARDAR CHECKBOX **//

        //** INICIO PARA GUARDAR CHECKBOX **//
        var isChecked = document.getElementById('ea1_p21res16').checked;
        if(isChecked){
            var ea1_p21res16 = "1";
        }    
        localStorage.setItem('ea1_p21res16', ea1_p21res16);
        //** FIN PARA GUARDAR CHECKBOX **//

        //** INICIO PARA GUARDAR CHECKBOX **//
        var isChecked = document.getElementById('ea1_p21res17').checked;
        if(isChecked){
            var ea1_p21res17 = "1";
        }    
        localStorage.setItem('ea1_p21res17', ea1_p21res17);
        //** FIN PARA GUARDAR CHECKBOX **//




        alert("Saved correctly");

    }

    function send_data(){
        pantallazo();
        setTimeout(function(){document.getElementById("myForm").submit();}, 3000);
    }

    function pantallazo(){

        html2canvas(document.body).then(canvas => {
            var dataURL = canvas.toDataURL();
            console.log(dataURL);
            document.getElementById("myInput").value = dataURL;
            var canvas = document.createElement("canvas");
            var ctx=canvas.getContext("2d");
            var cw=canvas.width;
            var ch=canvas.height;
            var maxW=1280;
            var maxH=1024;

            var output = document.getElementById('myInput');
            var img = new Image;
            img.onload = function() {
                var iw=img.width;
                var ih=img.height;
                var scale=Math.min((maxW/iw),(maxH/ih));
                var iwScaled=iw*scale;
                var ihScaled=ih*scale;
                canvas.width=iwScaled;
                canvas.height=ihScaled;
                ctx.drawImage(img,0,0,iwScaled,ihScaled);
                output.value = canvas.toDataURL("image/jpeg",0.5);
            }
            img.src = dataURL
        });
    }
    
    function loader(){
        document.getElementById('loader').style.display = 'Block';
 
    }

</script>

</html>